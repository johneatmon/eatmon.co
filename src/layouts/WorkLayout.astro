---
import type { CollectionEntry } from "astro:content"

import LinkPreview from "@components/Glimpse"
import PostFooter from "@components/PostFooter.astro"
import BaseLayout from "@layouts/BaseLayout.astro"
import { smarty } from "@lib/smartypants"

type Props = CollectionEntry<"work">["data"]

const data = Astro.props as Props
const { title, description, published } = data
---

<BaseLayout
	title={title}
	description={description}
	type="article"
	section="Work"
	datePublished={published.toString()}
	dateModified={data.modified?.toString()}
>
	<article class="mt pt-24 lg:pt-32">
		<header>
			<h1 class="mb-6 text-3xl font-semibold sm:text-4xl" set:html={smarty(data.title)} />
			<p
				class="text-base text-gray-500 dark:text-gray-400 sm:text-lg"
				set:html={smarty(data.description)}
			/>
		</header>
		<main
			class="prose prose-zinc my-16 prose-blockquote:font-serif prose-blockquote:text-[110%] prose-blockquote:font-medium prose-em:font-serif prose-em:text-[110%] prose-em:font-medium dark:prose-invert"
		>
			<slot />
		</main>
		<PostFooter />
	</article>
	<LinkPreview client:idle />
</BaseLayout>
