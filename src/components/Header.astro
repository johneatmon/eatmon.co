---
import type { HTMLAttributes } from "astro/types"
import Dropdown from "../components/Dropdown"
import Image from "../components/Image.astro"

interface Props extends HTMLAttributes<"section"> {}

const { ...attrs } = Astro.props as Props

const links = [
	{ href: "/about", label: "About" },
	{ href: "/work", label: "Work" },
]

const path = Astro.url.pathname
---

<header {...attrs}>
	<div class="max-w-[700px] mx-auto px-4 flex items-center gap-x-3 justify-between">
		<a href="/">
			<Image
				src="https://imagedelivery.net/le40TwFDWUdIvXckEp8FBw/5966de80-8db7-449d-80f7-fd1260e76e00/public"
				alt="A selfie of me hiking on snowy Mt. Rainier. I am smiling while wearing my hat and sunglasses. Behind my head, in the distance, you can see the looming peak of Mt. Adams."
				class="w-8 aspect-square rounded-full"
				loading="eager"
			/>
		</a>
		<nav>
			<ul role="list" class="flex text-sm font-medium">
				{
					links.map(({ href, label }) => (
						<li>
							<a href={href} class="relative inline-block py-4 px-3">
								<span
									class={`bg-clip-text text-gray-12 hover:text-transparent bg-gradient-to-r from-purple-700 to-indigo-500 dark:from-purple-400 dark:to-indigo-400 transition-colors ${
										path.includes(href) && `text-transparent `
									}`}
								>
									{label}
								</span>
								<span
									class={`absolute inset-x-1 -bottom-px h-px bg-gradient-purple dark:bg-gradient-purple-dark ${
										path.includes(href) ? `opacity-100` : `opacity-0`
									}`}
								/>
							</a>
						</li>
					))
				}
				<li><Dropdown client:idle>Contact</Dropdown></li>
			</ul>
		</nav>
		<button class="grid place-items-center w-8 h-8 rounded-full border border-white/5">=</button>
	</div>
	<div
		aria-hidden="true"
		class="h-px w-full bg-gradient-to-r from-gray-8 via-gray-8 to-gray-1 dark:from-white/10 dark:via-white/10 dark:to-[#09090b]"
	>
	</div>
</header>
