<script is:inline>
	const theme = (() => {
		if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {
			return localStorage.getItem("theme")
		}
		if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
			return "dark"
		}
		return "dark" // This is the 'default' state
	})()

	if (theme === "light") {
		document.documentElement.removeAttribute("data-mode")
	} else {
		document.documentElement.setAttribute("data-mode", "dark")
	}

	window.localStorage.setItem("theme", theme)
</script>
